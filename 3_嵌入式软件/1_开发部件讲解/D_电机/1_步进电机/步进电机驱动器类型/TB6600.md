# 图片
![[Pasted image 20241231194508.png]]
# 讲解
如上图所示，TB6600驱动器一共有12个端口，以及一排小开关。12个端口分别为电机使能信号（EN+）（EN-）、方向控制信号（DIR+）（DIR-）、步进脉冲信号（PIL+）（PUL-）、电机两相（A+，A-，B+，B-）、驱动电源（+，-）。一排小开关分别是细分设置和电流设置，sw1-sw3是细分设置，sw4-sw6是电流设置。
## 电机使能信号
①电机使能信号（EN+）（EN-）：电机使能信号，全名enable。顾名思义，就是让电机有旋转的能力和失去旋转的能力，他就相当于一个软件开关，只需要通过代码设计就可以实现步进电机使能或者失能，在失能的状态下，无论做何种操作，电机都不会有反应。
## 方向控制信号
②方向控制信号（DIR+）（DIR-）：方向控制信号，全名direction。顾名思义，就是可以通过控制这个端口的高低电平进而控制电机的旋转方向。后续我们可以使用这个驱动器的特性实现按键控制电机旋转方向或者其他一些操作。
## 步进脉冲信号
③步进脉冲信号（PIL+）（PUL-）：步进脉冲信号，全名pulse。步进脉冲信号是控制步进电机的灵魂信号，简而言之，控制步进电机，使能信号端口可以不接，顶多就让电机一直转呗。方向信号也可以不接，顶多步进电机无法改变方向。但是脉冲信号一定要接，根据目前对驱动器的了解，驱动器内部的芯片会根据你的脉冲信号，转换成能让步进电机旋转的信号，具体怎么做的还是去看驱动器技术文档哈。
## 电机两相
④电机两相（A+，A-，B+，B-）：按照目前的步进电机来说，市场上目前现行的步进电机一般都是二相步进电机，因为这样做在保证精度的情况下，更省成本。
## 拨码开关
⑤拨码开关：拨码开关的sw1-sw3是细分设置，sw4-sw6是电流设置。像42电机，我们假设采用8细分，转一圈需要1600个脉冲。他的额定电流是1.5A，那么我们就需要根据电流设定表，给他设定成 SW4 ON ,SW5 ON ,SW6 OFF。
## 驱动器接线
驱动器接线一般有两种，共阴极接法和共阳极接法。其实本质上都是一致的，共阴极即是把EN-、DIR-、PUL-全部都接到控制器上面的GND，也就是把他们全部接为低电位，其他端口只要设置为高电平就可以实现功能；共阳极也就是反过来接线，EN-、DIR-、PUL-全部都接到控制器上面的VCC，也就是把他们全部接为高电位，其他端口只要设置为低电平就可以实现功能。本质上都是检测到电位差实现相关功能。我们在此采用共阴极的接法。
![[Pasted image 20241231201722.png]]
注意到驱动器能够接受的输入电压在直流9-42V左右，最合适的还是在24V。注意驱动器VCC和GND不要接反了，接反了驱动器就要抽烟抽死了。
剩下的A、B两相，A+A-，B+B-，你不用担心步进电机的四根线，到底谁是A相，谁是B相。电机内部结构特性决定了谁是都可以，只是旋转方向会有差别而已（好像是这样）。教你一个小妙招，电机上面一共四根线，从中找出两根，只要这样根线碰在一起，步进电机手动旋转起来有阻力，那就说明这是同一相，不需要管是A相B相，暂定是A相，那另外两根线就是B相了。
控制器接线很简单，接那个I/O口全看自己的设置，就像我的话，我设置的PB3是控制步进电机旋转的I/O口，PB4是控制步进电机方向的I/O口，接线时只需要将PUL+接到PB3，DIR+接到PB4即可，这点没有什么可说的。

