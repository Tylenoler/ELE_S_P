判断结构要求程序员指定一个或多个要评估或测试的条件，以及条件为真时要执行的语句（必需的）和条件为假时要执行的语句（可选的）。
C 语言把任何**非零**和**非空**的值假定为 **true**，把**零**或 **null** 假定为 **false**。
下面是大多数编程语言中典型的判断结构的一般形式：
![[C-decision-20200923-1.svg]]
## 判断语句
C 语言提供了以下类型的判断语句。点击链接查看每个语句的细节。

| 语句                                         | 描述                                                            |
| ------------------------------------------ | ------------------------------------------------------------- |
| [[#if语句\|if语句]]                            | 一个 **if 语句** 由一个布尔表达式后跟一个或多个语句组成。                             |
| [[#if.......else语句\|if....else语句]]         | 一个 **if 语句** 后可跟一个可选的 **else 语句**，else 语句在布尔表达式为假时执行。         |
| [[#if...else if...else 语句\|嵌套if...else语句]] | 您可以在一个 **if** 或 **else if** 语句内使用另一个 **if** 或 **else if** 语句。 |
| [[#Switch语句\|Switch语句]]                    | 一个 **switch** 语句允许测试一个变量等于多个值时的情况。                            |
| [[#嵌套Switch语句\|嵌套Switch语句]]                | 您可以在一个 **switch** 语句内使用另一个 **switch** 语句。                     |
***
### if语句
一个 **if 语句** 由一个布尔表达式后跟一个或多个语句组成。
#### 语法
C 语言中 **if** 语句的语法：
```c
if(boolean_expression)
{
   /* 如果布尔表达式为真将执行的语句 */
}
```
如果布尔表达式为 **true**，则 if 语句内的代码块将被执行。如果布尔表达式为 **false**，则 if 语句结束后的第一组代码（闭括号后）将被执行。

C 语言把任何**非零**和**非空**的值假定为 **true**，把**零**或 **null** 假定为 **false**。
#### 流程图
![[c-if-20200922-1.svg]]
#### 实例
```c
#include <stdio.h>
 
int main ()
{
   /* 局部变量定义 */
   int a = 10;
   /* 使用 if 语句检查布尔条件 */
   if( a < 20 )
   {
       /* 如果条件为真，则输出下面的语句 */
       printf("a 小于 20\n" );
   }
   printf("a 的值是 %d\n", a);
   return 0;
}
```
结果：
```c
a 小于 20
a 的值是 10
```
***
### if.......else语句
一个 **if 语句** 后可跟一个可选的 **else 语句**，else 语句在布尔表达式为 false 时执行。
#### 语法
C 语言中 **if...else** 语句的语法：
```c
if(boolean_expression)
{
   /* 如果布尔表达式为真将执行的语句 */
}
else
{
   /* 如果布尔表达式为假将执行的语句 */
}
```
如果布尔表达式为 **true**，则执行 **if** 块内的代码。如果布尔表达式为 **false**，则执行 **else** 块内的代码。

C 语言把任何**非零**和**非空**的值假定为 **true**，把**零**或 **null** 假定为 **false**。
#### 流程图
![[c-if-else-20200923 1.svg]]
#### 实例
```c
#include <stdio.h>
 
int main ()
{
   /* 局部变量定义 */
   int a = 100;
 
   /* 检查布尔条件 */
   if( a < 20 )
   {
       /* 如果条件为真，则输出下面的语句 */
       printf("a 小于 20\n" );
   }
   else
   {
       /* 如果条件为假，则输出下面的语句 */
       printf("a 大于 20\n" );
   }
   printf("a 的值是 %d\n", a);
 
   return 0;
}
```
当上面的代码被编译和执行时，它会产生下列结果：
```c
a 大于 20
a 的值是 100
```
### 嵌套if...else语句

一个 **if** 语句后可跟一个可选的 **else if...else** 语句，这可用于测试多种条件。
当使用 if...else if...else 语句时，以下几点需要注意：
- 一个 if 后可跟零个或一个 else，else 必须在所有 else if 之后。
- 一个 if 后可跟零个或多个 else if，else if 必须在 else 之前。
- 一旦某个 else if 匹配成功，其他的 else if 或 else 将不会被测试。
#### 语法
C 语言中的 **if...else if...else** 语句的语法：
```c
if(boolean_expression 1)
{
   /* 当布尔表达式 1 为真时执行 */
}
else if( boolean_expression 2)
{
   /* 当布尔表达式 2 为真时执行 */
}
else if( boolean_expression 3)
{
   /* 当布尔表达式 3 为真时执行 */
}
else 
{
   /* 当上面条件都不为真时执行 */
}
```
#### 实例
```c
#include <stdio.h>
 
int main ()
{
   /* 局部变量定义 */
   int a = 100;
 
   /* 检查布尔条件 */
   if( a == 10 )
   {
       /* 如果 if 条件为真，则输出下面的语句 */
       printf("a 的值是 10\n" );
   }
   else if( a == 20 )
   {
       /* 如果 else if 条件为真，则输出下面的语句 */
       printf("a 的值是 20\n" );
   }
   else if( a == 30 )
   {
       /* 如果 else if 条件为真，则输出下面的语句 */
       printf("a 的值是 30\n" );
   }
   else
   {
       /* 如果上面条件都不为真，则输出下面的语句 */
       printf("没有匹配的值\n" );
   }
   printf("a 的准确值是 %d\n", a );
 
   return 0;
}
```
当上面的代码被编译和执行时，它会产生下列结果：
```c
没有匹配的值
a 的准确值是 100
```
***
### Switch语句
switch 语句是一种有限制的控制流语句，它用于根据表达式的值执行不同的代码块。
一个 **switch** 语句允许测试一个变量等于多个值时的情况，每个值称为一个 case，且被测试的变量会对每个 **switch case** 进行检查。
#### 语法
C 语言中 **switch** 语句的语法：
```c
switch(expression){
    case constant-expression  :
       statement(s);
       break; /* 可选的 */
    case constant-expression  :
       statement(s);
       break; /* 可选的 */
  
    /* 您可以有任意数量的 case 语句 */
    default : /* 可选的 */
       statement(s);
}
```
**switch 语句说明：**
- switch 后面的表达式的值将会与每个 case 后面的常量值进行比较，直到找到匹配的值或者执行到 default（如果存在）。
- 如果找到匹配的值，将执行相应 case 后面的代码块，然后跳出 switch 语句。
- 如果没有匹配的值，并且有 default，则执行 default 后面的代码块。
- 如果没有匹配的值，并且没有 default，则跳过整个 switch 语句直到结束。

**switch** 语句必须遵循下面的规则：
- **switch 表达式的类型：** switch 语句中的表达式必须是整数类型（char、short、int或枚举），或者是能够隐式转换为整数类型的表达式。
- **case 标签的唯一性：** 在 switch 语句中，每个 case 标签必须是唯一的，不能有重复的值。
- **默认情况的可选性：** switch 语句中的 default 标签是可选的。如果没有匹配的 case 标签，则会执行 default 标签下的代码块（如果存在）。
- **case 标签中的常量值：** case 标签后面的值必须是一个常量表达式，这意味着它的值在编译时就能确定。
- **case 标签的顺序：** switch 语句中的 case 标签的顺序并不重要，它们可以按照任意顺序编写。程序会按照 case 标签出现的顺序依次匹配。
- **break 语句的使用：** 在每个 case 标签的代码块结束处通常需要使用 break 语句来终止 switch 语句的执行。如果没有 break 语句，程序将会继续执行下一个 case 标签中的代码，直到遇到 break 语句或 switch 语句结束。
- **switch 语句的嵌套：** switch 语句可以嵌套在其他 switch 语句中，但是需要注意代码的可读性和复杂性。
- **case 标签和表达式的范围：** switch 语句的 case 标签可以是整数常量表达式，但不能是浮点数或字符串。
#### 流程图
![[Pasted image 20250116203327.jpg]]
#### 实例
```c
#include <stdio.h>
 
int main ()
{
   /* 局部变量定义 */
   char grade = 'B';
 
   switch(grade)
   {
   case 'A' :
      printf("很棒！\n" );
      break;
   case 'B' :
   case 'C' :
      printf("做得好\n" );
      break;
   case 'D' :
      printf("您通过了\n" );
      break;
   case 'F' :
      printf("最好再试一下\n" );
      break;
   default :
      printf("无效的成绩\n" );
   }
   printf("您的成绩是 %c\n", grade );
 
   return 0;
}
```
当上面的代码被编译和执行时，它会产生下列结果：
```c
做得好
您的成绩是 B
```
### 嵌套Switch语句
您可以把一个 **switch** 作为一个外部 **switch** 的语句序列的一部分，即可以在一个 **switch** 语句内使用另一个 **switch** 语句。即使内部和外部 switch 的 case 常量包含共同的值，也没有矛盾。
#### 语法
C 语言中 **嵌套 switch** 语句的语法：
```c
switch(ch1) {
   case 'A': 
      printf("这个 A 是外部 switch 的一部分" );
      switch(ch2) {
         case 'A':
            printf("这个 A 是内部 switch 的一部分" );
            break;
         case 'B': /* 内部 B case 代码 */
      }
      break;
   case 'B': /* 外部 B case 代码 */
}
```
#### 实例
```c
#include <stdio.h>
 
int main ()
{
   /* 局部变量定义 */
   int a = 100;
   int b = 200;
 
   switch(a) {
      case 100: 
         printf("这是外部 switch 的一部分\n");
         switch(b) {
            case 200:
               printf("这是内部 switch 的一部分\n");
         }
   }
   printf("a 的准确值是 %d\n", a );
   printf("b 的准确值是 %d\n", b );
 
   return 0;
}
```
当上面的代码被编译和执行时，它会产生下列结果：
```c
这是外部 switch 的一部分
这是内部 switch 的一部分
a 的准确值是 100
b 的准确值是 200
```
***